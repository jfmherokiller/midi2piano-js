// Set track wave to channel 0 and start
wset 0,trackwave;
chwave 0,0;
chvolume 0,2.5;
chstart 0;

// Get track length
tracklen = strlen(track0);

void main()
{
    tempo(120)

    // Track 0
note = 2;
fpwr note,(track0[i]/12);
note /= 100;
chpitch 0,note;

    // Index
i++; mod i,tracklen;

    // Repeat
jmp main;
}

// Accurate tempo function for beats-per-minute
void tempo( float bpm )
{
    timer timestamp;
    while ((time - timestamp) < (60 / bpm)) { timer time; }
}

// Returns the length of a string
float strlen(char* str)
{
    char* strptr = str;
   while (*strptr++);
  return (strptr - str);
}

float note, i;
float tracklen;
float time, timestamp;

string trackwave,"synth/sine_880.wav";

track0:
db 53, 60, 65, 69, -1, -1, -1, -1, 53, 60, 65, 69, -1, -1, -1, -1, 53, 60, 65, 69, -1, -1, -1, -1, 53, 60, 65, 77, 69, -1, -1, 79;
db -1, -1, -1, -1, 81, 53, 77, -1, 84, 60, 65, -1, 69, -1, -1, 81, -1, -1, -1, -1, 79, 60, 64, 84, 67, -1, -1, 79, 76, -1, -1, -1;
db -1, -1, 77, 62, 74, -1, 81, 65, -1, 74, -1, 77, -1, -1, -1, -1, 76, 57, 64, 72, -1, 76, -1, -1, -1, -1, 74, 58, 76, 65, 70, -1;
db 77, 74, -1, -1, -1, 79, -1, -1, -1, -1, 72, 57, 77, 65, 69, -1, -1, 79, 72, -1, -1, 81, -1, -1, -1, -1, 82, 55, -1, 82, 62, 67;
db 81, -1, 79, 70, -1, -1, -1, 77, -1, -1, -1, -1, 76, 79, 60, 67, -1, -1, 77, 79, -1, -1, -1, -1, 81, 53, 77, -1, 84, 60, 65, -1;
db 69, -1, -1, 81, -1, -1, -1, -1, 79, 60, 64, 84, 67, -1, -1, 79, 76, -1, -1, -1, -1, -1, 77, 62, 74, -1, -1, 74, 65, 76, 69, -1;
db -1, 77, -1, -1, -1, -1, 72, 57, 64, 69, -1, 72, -1, -1, -1, -1, 74, 58, 76, 65, 70, -1, 77, 74, -1, -1, -1, 79, -1, -1, -1, -1;
db 72, 57, 77, 65, 69, -1, -1, 79, 72, -1, -1, 81, -1, -1, -1, -1, 82, 55, -1, 82, 62, 67, 81, -1, -1, 79, 60, -1, -1, -1, 77, -1;
db -1, -1, 77, 53, 60, 65, 69, -1, -1, -1, -1, -1, 53, 60, 65, 81, 82, -1, -1, -1, -1, -1, 84, 53, -1, 84, 60, 65, -1, 84, -1, -1;
db -1, -1, 84, 60, 64, -1, 84, 67, -1, 86, -1, 84, 76, -1, -1, 82, -1, -1, -1, -1, 81, 62, -1, 81, 65, -1, 81, 74, -1, -1, -1, -1;
db 81, 57, -1, 81, 64, 69, 82, -1, 81, 72, -1, -1, -1, 79, -1, -1, -1, -1, 77, 62, -1, 77, 69, 74, -1, 77, 65, -1, -1, 76, -1, -1;
db -1, -1, 74, 58, 76, 65, -1, -1, 76, 70, -1, 77, -1, -1, -1, -1, 79, 55, 70, -1, 79, 62, 67, 81, -1, -1, 79, 70, -1, -1, -1, 81;
db -1, -1, -1, -1, 76, 79, 60, 67, 72, -1, -1, 81, 76, -1, -1, 82, -1, -1, -1, -1, 84, 53, -1, 84, 60, 65, -1, 84, 69, -1, -1, -1;
db -1, -1, 84, 60, 64, -1, 84, 67, -1, 86, -1, 84, 76, -1, -1, 82, -1, -1, -1, -1, 81, 62, -1, 81, 69, -1, 81, 77, -1, -1, -1, -1;
db 81, 57, 82, -1, 81, 64, -1, 79, -1, 77, 72, -1, -1, 76, -1, -1, -1, -1, 74, 58, -1, 74, 65, 70, 76, -1, 77, 74, -1, -1, -1, 79;
db -1, -1, -1, -1, 72, 57, 77, 65, 69, -1, -1, 79, 72, -1, -1, 81, -1, -1, -1, -1, 79, 58, 62, 67, -1, 79, -1, -1, 79, 60, -1, -1;
db 77, -1, -1, -1, 77, 53, 65, 69, -1, -1, -1, -1, 53, 60, 65, 69, -1, -1, -1, -1, 53, 60, 65, 77, 69, -1, -1, 79, -1, -1, -1, -1;
db 81, 53, 77, -1, 84, 60, 65, -1, 69, -1, -1, 81, -1, -1, -1, -1, 79, 60, 64, 84, 67, -1, -1, 79, 76, -1, -1, -1, -1, -1, 77, 62;
db 74, -1, 81, 65, -1, 74, -1, 77, -1, -1, -1, -1, 76, 57, 64, 72, -1, 76, -1, -1, -1, -1, 74, 58, 76, 65, 70, -1, 77, 74, -1, -1;
db -1, 79, -1, -1, -1, -1, 72, 57, 77, 65, 69, -1, -1, 79, 72, -1, -1, 81, -1, -1, -1, -1, 82, 55, -1, 82, 62, 67, 81, -1, 79, 70;
db -1, -1, -1, 77, -1, -1, -1, -1, 76, 79, 60, 67, -1, -1, 77, 79, -1, -1, -1, -1, 81, 53, 77, -1, 84, 60, 65, -1, 69, -1, -1, 81;
db -1, -1, -1, -1, 79, 60, 64, 84, 67, -1, -1, 79, 76, -1, -1, -1, -1, -1, 77, 62, 74, -1, -1, 74, 65, 76, 69, -1, -1, 77, -1, -1;
db -1, -1, 72, 57, 64, 69, -1, 72, -1, -1, -1, -1, 74, 58, 76, 65, 70, -1, 77, 74, -1, -1, -1, 79, -1, -1, -1, -1, 72, 57, 77, 65;
db 69, -1, -1, 79, 72, -1, -1, 81, -1, -1, -1, -1, 82, 55, -1, 82, 62, 67, 81, -1, -1, 79, 60, -1, -1, -1, 77, -1, -1, -1, 77, 53;
db 60, 65, 69, -1, -1, -1, -1, -1, 53, 60, 65, 81, 82, -1, -1, -1, -1, -1, 84, 53, -1, 84, 60, 65, -1, 84, -1, -1, -1, -1, 84, 60;
db 64, -1, 84, 67, -1, 86, -1, 84, 76, -1, -1, 82, -1, -1, -1, -1, 81, 62, -1, 81, 65, -1, 81, 74, -1, -1, -1, -1, 81, 57, -1, 81;
db 64, 69, 82, -1, 81, 72, -1, -1, -1, 79, -1, -1, -1, -1, 77, 62, -1, 77, 69, 74, -1, 77, 65, -1, -1, 76, -1, -1, -1, -1, 74, 58;
db 76, 65, -1, -1, 76, 70, -1, 77, -1, -1, -1, -1, 79, 55, 70, -1, 79, 62, 67, 81, -1, -1, 79, 70, -1, -1, -1, 81, -1, -1, -1, -1;
db 76, 79, 60, 67, 72, -1, -1, 81, 76, -1, -1, 82, -1, -1, -1, -1, 84, 53, -1, 84, 60, 65, -1, 84, 69, -1, -1, -1, -1, -1, 84, 60;
db 64, -1, 84, 67, -1, 86, -1, 84, 76, -1, -1, 82, -1, -1, -1, -1, 81, 62, -1, 81, 69, -1, 81, 77, -1, -1, -1, -1, 81, 57, 82, -1;
db 81, 64, -1, 79, -1, 77, 72, -1, -1, 76, -1, -1, -1, -1, 74, 58, -1, 74, 65, 70, 76, -1, 77, 74, -1, -1, -1, 79, -1, -1, -1, -1;
db 72, 57, 77, 65, 69, -1, -1, 79, 72, -1, -1, 81, -1, -1, -1, -1, 79, 58, 62, 67, -1, 79, -1, -1, 79, 60, -1, -1, 77, -1, -1, -1;
db 77, 53, 65, 69, -1, -1, -1, -1, 53, 60, 65, 69, -1, -1, -1, -1, 53, 60, 65, 69, -1, -1, -1, -1, 53, 60, 65, 69, -1, -1, -1, -1;
db 53, 60, 65, 77, 69, -1, -1, 79, -1, -1, -1, -1, 81, 41, 77, -1, 84, 48, -1, -1, 57, -1, 81, -1, -1, 79, 48, 76, -1, 84, 55, -1;
db -1, 79, 64, -1, -1, -1, -1, 77, 50, -1, 74, -1, 81, 57, -1, -1, 65, -1, 77, -1, -1, 76, 45, -1, 52, 60, -1, 76, -1, -1, -1, -1;
db 74, 46, 76, 53, -1, -1, 77, 62, -1, -1, 79, -1, -1, 72, 45, -1, 77, 53, -1, -1, -1, 79, 60, -1, 81, -1, -1, 82, 43, 74, -1, -1;
db 82, 50, -1, 81, -1, 79, 58, -1, -1, 77, -1, -1, -1, 79, 48, -1, -1, 55, 64, -1, 77, 79, -1, -1, -1, -1, 81, 41, 77, -1, 84, 48;
db -1, -1, 57, -1, 81, -1, -1, 79, 48, 76, -1, 84, 55, -1, -1, 79, 64, -1, -1, -1, -1, 77, 50, -1, 74, -1, -1, 74, 57, -1, 76, 65;
db -1, -1, 77, -1, -1, 72, 45, -1, 52, 60, -1, 72, -1, -1, -1, -1, 74, 46, 76, 53, -1, -1, 77, 62, -1, -1, 79, -1, -1, 72, 45, -1;
db 77, 53, -1, -1, -1, 79, 60, -1, 81, -1, -1, 82, 43, 74, -1, -1, 82, 50, 58, 81, -1, -1, -1, -1, 79, 48, -1, 77, -1, -1, -1, -1;
db 69, 77, 41, 48, -1, 57, -1, -1, -1, 41, -1, 48, -1, 81, 57, -1, 82, -1, -1, 84, 41, 81, -1, -1, 84, 48, -1, -1, 84, 57, -1, -1;
db -1, 84, 48, 76, -1, -1, 84, 55, -1, 86, -1, 84, 64, -1, -1, 82, -1, -1, -1, 81, 50, 77, -1, -1, 81, 57, -1, -1, 81, 65, -1, -1;
db -1, 81, 45, 72, -1, -1, 81, 52, -1, 82, -1, 60, -1, 81, -1, 79, -1, -1, -1, 77, 50, -1, -1, 77, 57, -1, -1, 77, 65, -1, 76, -1;
db -1, 74, 46, 70, -1, 76, 53, -1, -1, -1, 76, 62, -1, 77, -1, -1, -1, 79, 43, 70, -1, -1, 79, 50, -1, 81, -1, 79, 58, -1, -1, 81;
db -1, -1, -1, 76, 79, 48, -1, 55, -1, -1, -1, 81, 64, -1, 82, -1, -1, 84, 41, 81, -1, -1, 84, 48, -1, -1, 84, 57, -1, -1, -1, 84;
db 48, 76, -1, -1, 84, 55, -1, 86, -1, 84, 64, -1, -1, 82, -1, -1, -1, 81, 50, 77, -1, -1, 81, 57, -1, -1, 81, 65, -1, -1, -1, 81;
db 45, 72, -1, 82, -1, 81, 52, -1, -1, 79, -1, 77, 60, -1, -1, 76, -1, -1, -1, 74, 46, -1, -1, 74, 53, -1, 76, -1, 77, 62, -1, -1;
db 79, -1, -1, 72, 45, -1, 77, 53, -1, -1, -1, 79, 60, -1, 81, -1, -1, 79, 43, 74, -1, 50, 58, -1, 79, -1, -1, -1, -1, 79, 48, 77;
db -1, -1, -1, -1, 69, 77, 41, 48, 57, -1, -1, -1, -1, -1, 41, 48, -1, 57, -1, 41, -1, 48, -1, 77, 57, -1, 79, -1, -1, 81, 41, -1;
db 77, -1, 84, 48, -1, -1, 57, -1, 81, -1, -1, 79, 48, 76, -1, 84, 55, -1, -1, 79, 64, -1, -1, -1, -1, 77, 50, -1, 74, -1, 81, 57;
db -1, -1, 65, -1, 77, -1, -1, 76, 45, -1, 52, 60, -1, 76, -1, -1, -1, -1, 74, 46, 76, 53, -1, -1, 77, 62, -1, -1, 79, -1, -1, 72;
db 45, -1, 77, 53, -1, -1, -1, 79, 60, -1, 81, -1, -1, 82, 43, 74, -1, -1, 82, 50, -1, 81, -1, 79, 58, -1, -1, 77, -1, -1, -1, 79;
db 48, -1, -1, 55, 64, -1, 77, 79, -1, -1, -1, -1, 81, 41, 77, -1, 84, 48, -1, -1, 57, -1, 81, -1, -1, 79, 48, 76, -1, 84, 55, -1;
db -1, 79, 64, -1, -1, -1, -1, 77, 50, -1, 74, -1, -1, 74, 57, -1, 76, 65, -1, -1, 77, -1, -1, 72, 45, -1, 52, 60, -1, 72, -1, -1;
db -1, -1, 74, 46, 76, 53, -1, -1, 77, -1, 62, -1, 79, -1, -1, -1, 72, 45, 77, 53, -1, -1, -1, 79, -1, 60, 81, -1, -1, -1, 82, 43;
db 74, -1, 82, 50, 58, 81, -1, -1, -1, 79, 48, -1, -1, 77, -1, -1, -1, -1, 69, 77, 53, 60, 65, -1, 69, -1, -1, -1, -1, -1, 53, 60;
db 65, 69, -1, -1, -1, -1, 53, 60, 65, -1, 65, 69, -1, -1, -1, -1, 69, 72, -1, 72, 77, -1, -1, -1, 81, 77, 82, -1, -1, -1, 84, 53;
db -1, 84, 60, 65, -1, 84, -1, -1, -1, -1, 84, 60, 64, -1, 84, 67, -1, 86, -1, 84, 76, -1, -1, 82, -1, -1, -1, -1, 81, 62, -1, 81;
db 65, -1, 81, 74, -1, -1, -1, -1, 81, 57, -1, 81, 64, 69, 82, -1, 81, 72, -1, -1, -1, 79, -1, -1, -1, -1, 77, 62, -1, 77, 69, 74;
db -1, 77, 65, -1, -1, 76, -1, -1, -1, -1, 74, 58, 76, 65, -1, -1, 76, 70, -1, 77, -1, -1, -1, -1, 79, 55, 70, -1, 79, 62, 67, 81;
db -1, -1, 79, 70, -1, -1, -1, 81, -1, -1, -1, -1, 76, 79, 60, 67, 72, -1, -1, 81, 76, -1, -1, 82, -1, -1, -1, -1, 84, 53, -1, 84;
db 60, 65, -1, 84, 69, -1, -1, -1, -1, -1, 84, 60, 64, -1, 84, 67, -1, 86, -1, 84, 76, -1, -1, 82, -1, -1, -1, -1, 81, 62, -1, 81;
db 69, -1, 81, 77, -1, -1, -1, -1, 81, 57, 82, -1, 81, 64, -1, 79, -1, 77, 72, -1, -1, 76, -1, -1, -1, -1, 74, 58, -1, 74, 65, 70;
db 76, -1, 77, 74, -1, -1, -1, 79, -1, -1, -1, -1, 72, 57, 77, 65, 69, -1, -1, 79, 72, -1, -1, 81, -1, -1, -1, -1, 79, 58, 62, 67;
db -1, -1, 79, 60, -1, -1, 77, -1, -1, -1, 77, 53, 60, 65, 69, -1, -1, -1, -1, -1, 53, 60, 65, 69, -1, -1, -1, -1, 53, 60, 65, -1;
db 65, 69, -1, -1, -1, -1, 69, 72, -1, -1, 72, 77, -1, -1, 77, 81, -1, -1, 53, 60, 72, 81, -1, -1, -1, -1;
db 0; // End string

